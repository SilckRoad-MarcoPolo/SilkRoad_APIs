<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Documentation</title>
  <style>
    body {
      font-family: 'Fira Code', monospace;
      background-color: #1e1e1e;
      color: #dcdcdc;
      padding: 40px;
      line-height: 1.6;
    }
    h1, h2, h3 {
      color: #00ff7f;
      border-bottom: 1px solid #333;
      padding-bottom: 5px;
      margin-bottom: 20px;
    }
    h1 {
      font-size: 2.5em;
    }
    h2 {
      font-size: 2em;
      margin-top: 40px;
    }
    h3 {
      font-size: 1.6em;
    }
    p, ul {
      margin-bottom: 20px;
    }
    ul {
      list-style-type: none;
      padding: 0;
    }
    li {
      margin-bottom: 15px;
      background: #2e2e2e;
      padding: 20px;
      border-radius: 8px;
      border-left: 5px solid #00ff7f;
    }
    code {
      font-size: 1.1em;
      color: #ffa500;
      background: #333;
      padding: 2px 6px;
      border-radius: 4px;
    }
    .description {
      margin-top: 10px;
      font-size: 0.9em;
      color: #9cdcfe;
    }
    .middleware {
      font-style: italic;
      color: #569cd6;
    }
    .highlight {
      background-color: #333;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 5px solid #00ff7f;
    }
    a {
      color: #61dafb;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .main-url code {
      font-size: 1.2em;
      color: #00ff7f;
    }
    .postman-advice {
      color: #d4d4d4;
      font-style: italic;
      font-size: 1em;
      margin-bottom: 40px;
    }
    .note {
      color: #999;
      font-size: 0.85em;
      font-style: italic;
    }
  </style>
</head>
<body>

  <div class="highlight main-url">
    <h1>API Documentation</h1>
    <p><strong>Base URL:</strong> <code>https://silkroadapis-production.up.railway.app/api/v1</code></p>
  </div>

  <div class="postman-advice">
    <p>For optimal testing, we recommend using <a href="https://www.postman.com/" target="_blank" rel="noopener">Postman</a> or a similar API client to interact with the endpoints listed below.</p>
  </div>

  <h2>API Routes Overview</h2>
  <p>This section outlines the available API routes in this project. Each route is categorized into Public, Protected (requires authentication), or Admin (requires admin access) routes. Middleware and validation logic are also described where applicable.</p>

  <h3>Public Routes</h3>
  <ul>
    <li>
      <code>POST /signup</code> - Register a new user.
      <div class="description">Validator: <code>authValidator.signUpValidator</code> | Controller: <code>signup</code></div>
    </li>
    <li>
      <code>POST /login</code> - Log in an existing user.
      <div class="description">Validator: <code>authValidator.logInValidator</code> | Controller: <code>login</code></div>
    </li>
    <li>
      <code>POST /forgotpassword</code> - Request a password reset.
      <div class="description">Validator: <code>authValidator.forgotPasswordValidator</code> | Controller: <code>forgotPassword</code></div>
    </li>
    <li>
      <code>POST /verifyOTP</code> - Verify the OTP for password recovery.
      <div class="description">Controller: <code>verifyPasswordCode</code></div>
    </li>
    <li>
      <code>PUT /resetpassword</code> - Reset the password after verifying the OTP.
      <div class="description">Controller: <code>resetPassword</code></div>
    </li>
  </ul>

  <h3>Protected Routes (Authentication Required)</h3>
  <ul>
    <li>
      <code>POST /upload-photo</code> - Upload a user avatar/photo.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">upload.single("photo")</span> | Controller: <code>uploadPhoto</code></div>
    </li>
    <li>
      <code>PATCH /updatepassword</code> - Update the user’s password.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">userValidators.updatePasswordValidator</span> | Controller: <code>userController.updatePassword</code></div>
    </li>
    <li>
      <code>PATCH /updateprofile</code> - Update the user’s profile information.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">userValidators.updateUserValidator</span> | Controller: <code>userController.updateProfile</code></div>
    </li>
    <li>
      <code>DELETE /inactiveaccount</code> - Deactivate the user’s account.
      <div class="description">Middleware: <span class="middleware">protect</span> | Controller: <code>userController.inactiveAccount</code></div>
    </li>
  </ul>

  <h3>Admin Routes (Admin Access Required)</h3>
  <ul>
    <li>
      <code>GET /users</code> - Retrieve a list of all users.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">restrictTo("admin")</span> | Controller: <code>userController.getUsers</code></div>
    </li>
    <li>
      <code>POST /users</code> - Create a new user.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">restrictTo("admin")</span>, <span class="middleware">userValidators.createUserValidator</span> | Controller: <code>userController.createUser</code></div>
    </li>
    <li>
      <code>GET /users/:id</code> - Get details of a specific user by ID.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">restrictTo("admin")</span>, <span class="middleware">userValidators.checkIDValidator</span> | Controller: <code>userController.getUser</code></div>
    </li>
    <li>
      <code>PATCH /users/:id</code> - Update a specific user's information by ID.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">restrictTo("admin")</span>, <span class="middleware">userValidators.checkIDValidator</span> | Controller: <code>userController.updateUser</code></div>
    </li>
    <li>
      <code>DELETE /users/:id</code> - Delete a specific user by ID.
      <div class="description">Middleware: <span class="middleware">protect</span>, <span class="middleware">restrictTo("admin")</span>, <span class="middleware">userValidators.checkIDValidator</span> | Controller: <code>userController.deleteUser</code></div>
    </li>
  </ul>

  <p class="note">Note: All routes returning sensitive data or performing user account changes require authentication via JWT tokens in the request headers.</p>

</body>
</html>
